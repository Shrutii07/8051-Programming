;SINE WAVE

CLR P0.7    ; ENABLE DAC

CLR A       ;CLEAR ACC
;SET DATA POINTER TO LOOKUP
MOV DPTR, #LOOKUP       
BACK: MOV B, #00H 

;DATA FROM ACC+DATA POINTER IS STORED IN ACC 
;DATA IS SENT TO DAC i.e. PORT 1
;THEN B IS INCREMENTED 
;B IS MOVED TO A 
; i.e. A IS INCREASED

LOOP: MOVC A, @A+DPTR 
      MOV P1,A 
      INC B
      MOV A,B
;IF CONTENT OF A!=40 CONTINUE THE LOOP
      CJNE A,#40, LOOP
;IF ACC==40 JUMP TO BACK
;I.E. AGAIN START THE SINE WAVE
       JMP BACK

; DATA SET OF SIN FUNCTION SCALED FROM 0 TO 255

LOOKUP:
DB 255, 253, 249, 241, 231
DB 218, 202, 185, 167, 147
DB 128, 108, 88, 70, 53
DB 37, 24, 14, 6, 2, 0 
DB 2, 6, 14, 24, 37, 53
DB 70, 88, 108, 127
DB 147, 167, 185, 202, 218
DB 231, 241, 249, 253